{"filter":false,"title":"vigenere.c","tooltip":"/pset2/vigenere/vigenere.c","undoManager":{"mark":0,"position":0,"stack":[[{"start":{"row":0,"column":0},"end":{"row":74,"column":1},"action":"remove","lines":["#include <stdio.h>","#include <stdlib.h>","#include <string.h>","#include <ctype.h>","#include <cs50.h>","","int alpha_index(char c)","{","    if(isupper(c))","        return c - 'A';","    else if(islower(c))","        return c - 'a';","    else","    {","        printf(\"ERROR IN ALPHA INDEX: %c\\n\", c);","        return 1;","    }","}","","char* vigenere(char* keyword, char* plaintext)","{","    if(plaintext != NULL)","    {","        char* ciphertext;","        for(int i = 0, j = 0, m = strlen(keyword), n = strlen(plaintext); i < n ; i++)","        {","            if(i == 0)","                ciphertext = (char*)malloc(n);","                ","            if(isalpha(plaintext[i]))","            {","                if(isupper(plaintext[i]))","                    ciphertext[i] = 'A' + (alpha_index(plaintext[i]) + alpha_index(keyword[j]))  % 26;","                else if(islower(plaintext[i]))","                    ciphertext[i] = 'a' + (alpha_index(plaintext[i]) + alpha_index(keyword[j]))  % 26;","                else","                    printf(\"Error: %c is neither uppercase nor lowercase\", plaintext[i]);","                    ","                if(j < m-1)","                    j++;","                else","                    j = 0;","            }","            else","                ciphertext[i] = plaintext[i];","        }","        return ciphertext;","    }","    return NULL;","}","","int main(int argc, string argv[])","{","    //Check if single argument","    if(argc != 2)","    {","        printf(\"Error: no cipher key provided as argument\");","        return 1;","    }","    //Check if argument contains non-alphabetical character","    for(int i = 0; i < strlen(argv[1]); i++)","        if(!isalpha(argv[1][i]))","        {","            printf(\"Error: argument contains non-alphabetical character\");","            return 1;","        }","    //Ask user for a plaintext","    printf(\"plaintext: \");","    string plaintext = get_string();","","    //Cipher text using Vigenere","    printf(\"ciphertext: %s\\n\", vigenere(argv[1], plaintext));","","    return 0;","}"],"id":1297},{"start":{"row":0,"column":0},"end":{"row":79,"column":1},"action":"insert","lines":["#include <stdio.h>","#include <stdlib.h>","#include <string.h>","#include <ctype.h>","#include <cs50.h>","","int alpha_index(char c)","{","    if(isupper(c))","        return c - 'A';","    else if(islower(c))","        return c - 'a';","    else","    {","        printf(\"ERROR IN ALPHA INDEX: %c\\n\", c);","        return 1;","    }","}","","char* crack(char* keyword, char* plaintext)","{","    if(plaintext != NULL)","    {","        char* ciphertext;","        for(int i = 0, j = 0, m = strlen(keyword), n = strlen(plaintext); i < n ; i++)","        {","            //Allocate memory for cipher text on first pass of the loop","            if(i == 0)","                ciphertext = (char*)malloc(n);","            ","            //Encrypt only if char is a alphabetical letter    ","            if(isalpha(plaintext[i]))","            {","                //Preserve case in encryption","                if(isupper(plaintext[i]))","                    ciphertext[i] = 'A' + (alpha_index(plaintext[i]) + alpha_index(keyword[j]))  % 26;","                else if(islower(plaintext[i]))","                    ciphertext[i] = 'a' + (alpha_index(plaintext[i]) + alpha_index(keyword[j]))  % 26;","                else","                    printf(\"Error: %c is neither uppercase nor lowercase\", plaintext[i]);","                ","                //Increment key index for keyword    ","                if(j < m-1)","                    j++;","                else","                    j = 0;","            }","            else","                ciphertext[i] = plaintext[i];","        }","        return ciphertext;","    }","    return NULL;","}","","int main(int argc, string argv[])","{","    //Check if single argument","    if(argc != 2)","    {","        printf(\"Error: no cipher key provided as argument\");","        return 1;","    }","    //Check if argument contains non-alphabetical character","    for(int i = 0; i < strlen(argv[1]); i++)","        if(!isalpha(argv[1][i]))","        {","            printf(\"Error: argument contains non-alphabetical character\");","            return 1;","        }","        ","    //Ask user for a plaintext","    printf(\"plaintext: \");","    string plaintext = get_string();","","    //Cipher text using Vigenere","    printf(\"ciphertext: %s\\n\", crack(argv[1], plaintext));","","    return 0;","}"]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":38,"column":20},"end":{"row":38,"column":20},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1484488482000,"hash":"0c09ef4a660a12aa4714a1c0e4c81f0fe0af079b"}